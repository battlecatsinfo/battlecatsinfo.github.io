{{#> common.html nav_bar_active="enemy"}}

{{#*inline "viewport"}}{{/inline}}

{{#*inline "title"}}敵人搜尋{{/inline}}

{{#*inline "description"}}篩選和排序敵人{{/inline}}

{{#*inline "og"}}
	{{~> @partial-block}}
	<meta property="og:image" content="https://i.imgur.com/wzLaUm2.png">
{{/inline}}

{{#*inline "styles-inline"}}
	<style>
	body {
		font-size: 16px;
		padding: 0;
		margin: 0;
		width: 100%;
	}
	#loader {
		position: absolute;
		left: 50%;
		top: 50%;
		z-index: 1;
		width: 120px;
		height: 120px;
		margin: -76px 0 0 -76px;
		border: 16px solid #f3f3f3;
		border-radius: 50%;
		border-top: 16px solid #3498db;
		-webkit-animation: spin 2s linear infinite;
		animation: spin 2s linear infinite;
	}
	@keyframes spin {
		0% {
			transform: rotate(0deg);
		}
		100% {
			transform: rotate(360deg);
		}
	}
	.An {
		position: relative;
		display: none;
		animation-name: An;
		animation-duration: 0.7s;
	}
	@keyframes An {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}
	img {
		background-color: transparent !important;
	}
	table,
	th,
	td {
		border: 1px solid #d1d5d5;
	}
	.w3-centered td {
		vertical-align: middle;
	}
	.w3-ul li {
		padding: 0px;
		cursor: default;
		border-radius: 1px;
	}
	li img {
		vertical-align: bottom;
	}
	li.o-selected {
		box-shadow: 0 0 2px black;
		background-color: #7fdbff;
	}
	span.o-selected > button {
		background-color: #795548;
	}
	.type-btn {
		text-align: center;
		display: inline-block;
		width: 100px;
		border-radius: 5px;
		background-color: #7777774a !important;
		padding: 10px;
		user-select: none;
	}
	.w3-ul {
		border-radius: 3px;
		border: 1.5px solid #818181;
		margin-top: 4px;
		margin-bottom: 4px;
	}
	button {
		display: block;
		text-align: left;
		width: 100%;
		cursor: default;
		transition: opacity 0s;
		border: 0px;
		background-color: inherit;
		padding: 5px;
	}
	ul::-webkit-scrollbar {
		width: 10px;
	}
	ul::-webkit-scrollbar-button {
		background: #ebebeb;
		border-radius: 4px;
	}
	ul::-webkit-scrollbar-track-piece {
		background: #ebebeb;
	}
	ul::-webkit-scrollbar-thumb {
		border-radius: 3px;
		background-color: gray;
		border: 1px solid darkgray;
	}
	.w3-table tr:hover td,
	li:hover {
		background-color: lightcyan;
	}
	:root.dark .w3-table tr:hover td {
		background-color: #638593 !important;
	}
	:root.dark li:hover {
		background-color: steelblue !important;
	}
	textarea {
		font-size: 20px;
		font-family: Monaco, "Ubuntu Mono", "Source Code Pro", Menlo, Consolas,
			monospace;
	}
	input[type="button"] {
		margin: 0px auto;
		margin-top: 20px;
		border-radius: 5px;
		width: 90px;
		padding: 3px 10px;
	}
	#pages-a > td {
		font-size: 1.2em;
		width: 50px;
		text-align: center;
		border: none;
		cursor: pointer;
	}
	#pages-a > td:hover {
		background-color: #ccc !important;
	}
	.w3-table td {
		padding: 0px;
	}
	:root {
		--mhide: block;
	}
	.may-hide {
		display: var(--mhide);
	}
	.or-and {
		margin-top: 0px;
		width: 100%;
	}
	#name-search {
		width: 100%;
		padding: 6px 20px;
		border: 3px solid #ddd;
		border-radius: 7px;
		outline: none;
		transition: 0.2s;
		margin: 0 auto;
	}
	#name-search:focus {
		border-color: #bbb;
	}
	td.N {
		background-color: var(--spans) !important;
	}
	p {
		margin-block-start: 5px;
		margin-block-end: 5px;
	}
	</style>
{{/inline}}

{{#*inline "content"}}
	<div id="loader"></div>
	<script src="cat.js"></script>
	<div id="main" class="An">
		<div class="w3-container">
			<ul class="w3-ul may-hide" style="width: 150px;height: 600px;overflow: auto;" id="trait-s">
				<li><span class="w3-button or-and w3-pale-red">AND</span></li>
				<li data-expr="trait&RED">
					<button><img src="https://i.imgur.com/BUxdmA6.png" width="40" height="40">紅色敵人</button>
				</li>
				<li data-expr="trait&FLOAT">
					<button><img src="https://i.imgur.com/GlcKsa6.png" width="40" height="40">飄浮敵人</button>
				</li>
				<li data-expr="trait&BLACK">
					<button><img src="https://i.imgur.com/XbBWQIp.png" width="40" height="40">黑色敵人</button>
				</li>
				<li data-expr="trait&METAL">
					<button><img src="https://i.imgur.com/fVfHaCQ.png" width="40" height="40">鋼鐵敵人</button>
				</li>
				<li data-expr="trait&ANGEL">
					<button><img src="https://i.imgur.com/kxvTRTQ.png" width="40" height="40">天使敵人</button>
				</li>
				<li data-expr="trait&ALIEN">
					<button><img src="https://i.imgur.com/PPpWAPy.png" width="40" height="40">異星戰士</button>
				</li>
				<li data-expr="trait&ZOMBIE">
					<button><img src="https://i.imgur.com/oqVjofz.png" width="40" height="40">不死生物</button>
				</li>
				<li data-expr="trait&WHITE">
					<button><img src="https://i.imgur.com/qOEibJt.png" width="40" height="40">無屬性敵人</button>
				</li>
				<li data-expr="trait&RELIC">
					<button><img src="https://i.imgur.com/caSziI9.png" width="40" height="40">古代種</button>
				</li>
				<li data-expr="trait&DEMON">
					<button><img src="https://i.imgur.com/hp6EvG6.png" width="40" height="40">惡魔</button>
				</li>
				<li data-expr="trait&BARON">
					<button><img src="https://i.imgur.com/jxD6MKL.png" width="40" height="40">超生命體</button>
				</li>
				<li data-expr="trait&BEAST">
					<button><img src="https://i.imgur.com/l3uHons.png" width="40" height="40">超獸</button>
				</li>
				<li data-expr="trait&EVA">
					<button><img src="https://i.imgur.com/r1T5A0R.png" width="40" height="40">使徒</button>
				</li>
				<li data-expr="trait&WITCH">
					<button><img src="https://i.imgur.com/SzLv3I7.png" width="40" height="40">魔女</button>
				</li>
				<li data-expr="trait&SAGE">
					<button><img src="https://i.imgur.com/ERkdLLP.png" width="40" height="40">超賢者</button>
				</li>
				<li data-expr="trait&INFN">
					<button><img src="https://i.imgur.com/ovv5SXv.png" width="40" height="40">道場塔</button>
				</li>
				<li data-expr="speed == 0 && trait == 0">
					<button><img src="https://i.imgur.com/s5AVkib.png" width="41" height="41">動畫塔</button>
				</li>
			</ul>
			<ul class="w3-ul may-hide" style="width: 150px;" id="atk-s">
				<li><span class="w3-button or-and w3-blue-gray">AND</span></li>
				<li data-expr="atktype&ATK_SINGLE">
					<button><img src="https://i.imgur.com/CZwFP3H.png" width="40" height="40">單體攻擊</button>
				</li>
				<li data-expr="atktype&ATK_RANGE">
					<button><img src="https://i.imgur.com/BeuHYlZ.png" width="40" height="40">範圍攻擊</button>
				</li>
				<li data-expr="atktype&ATK_LD">
					<button><img src="https://i.imgur.com/fYILfa8.png" width="40" height="40">遠距攻擊</button>
				</li>
				<li data-expr="atktype&ATK_OMNI">
					<button><img src="https://i.imgur.com/rvGrwIL.png" width="40" height="40">全方位攻擊</button>
				</li>
				<li data-expr="atktype&ATK_KB_REVENGE">
					<button><img src="https://i.imgur.com/KqtrO2b.png">擊退反擊</button>
				</li>
				<li data-expr="pre1">
					<button><img src="https://i.imgur.com/veNQ90x.png" width="40" height="40">連續攻擊</button>
				</li>
			</ul>
			<form action="javascript:void(0);" onsubmit="return false;" class="may-hide" style="width: 150px;">
				<span class="w3-button w3-teal w3-round" id="filter-go">排序</span>
				<span class="w3-button w3-red w3-round" id="filter-clear">清除</span>
			</form>
			<div class="no-print may-hide" style="position: absolute;top: 1047px;left: 17px;">
				<div>篩選表達式</div>
				<textarea class="w3-code" rows="3" cols="60" name="filter-expr" id="filter-expr" spellcheck="false"></textarea>
				<br>
				<div>排序表達式</div>
				<textarea class="w3-code" rows="3" cols="60" name="sort-expr" id="sort-expr" spellcheck="false"></textarea>
				<br>
				<a href="/help.html" style="display: block;text-align: center;">使用說明</a>
			</div>
			<ul class="w3-ul may-hide" style="position: absolute;left: 180px;top: 0px;height: 600px;overflow: auto;width: 190px;" id="ab-s">
				<li><span class="w3-button or-and w3-green">AND</span></li>
				<li style="text-align: center;">能力</li>
				<li data-expr="hasab(AB_STRONG)">
					<button><img src="https://i.imgur.com/IE6ihRp.png" width="40" height="40">攻擊力上升</button>
				</li>
				<li data-expr="hasab(AB_LETHAL)">
					<button><img src="https://i.imgur.com/WcMDxXS.png" width="40" height="40">死前存活</button>
				</li>
				<li data-expr="hasab(AB_ATKBASE)">
					<button><img src="https://i.imgur.com/xIcbDzl.png" width="40" height="40">善於攻城</button>
				</li>
				<li data-expr="hasab(AB_CRIT)">
					<button><img src="https://i.imgur.com/FV6We1L.png" width="40" height="40">會心一擊</button>
				</li>
				<li data-expr="hasab(AB_S)">
					<button><img src="https://i.imgur.com/KDpH72p.png" width="40" height="40">渾身一擊</button>
				</li>
				<li data-expr="hasab(AB_MINIWAVE)">
					<button><img src="https://i.imgur.com/W18c1hw.png" width="40" height="40">小波動</button>
				</li>
				<li data-expr="hasab(AB_WAVE)">
					<button><img src="https://i.imgur.com/ZbPqGoj.png" width="40" height="40">波動</button>
				</li>
				<li data-expr="hasab(AB_MINIVOLC)">
					<button><img src="https://i.imgur.com/AEITK8t.png" width="40" height="40">小烈波</button>
				</li>
				<li data-expr="hasab(AB_VOLC)">
					<button><img src="https://i.imgur.com/at4bW0n.png" width="40" height="40">烈波攻擊</button>
				</li>
				<li data-expr="hasab(AB_BURROW)">
					<button><img src="https://i.imgur.com/if5GWkl.png" width="40" height="40">鑽地</button>
				</li>
				<li data-expr="hasab(AB_REVIVE)">
					<button><img src="https://i.imgur.com/ppocQfB.png" width="40" height="40">復活</button>
				</li>
				<li data-expr="hasab(AB_SHIELD)">
					<button><img src="https://i.imgur.com/l2VfcmX.png" width="40" height="40">護盾</button>
				</li>
				<li data-expr="hasab(AB_DSHIELD)">
					<button><img src="https://i.imgur.com/LESVycw.png" width="40" height="40">惡魔盾</button>
				</li>
				<li data-expr="hasab(AB_AFTERMATH)">
					<button><img src="https://i.imgur.com/WmB7utZ.png" width="40" height="40">死後烈波</button>
				</li>
				<li data-expr="hasab(AB_COUNTER)">
					<button><img src="https://i.imgur.com/tchDtAr.png" width="40" height="40">烈波反擊</button>
				</li>
				<li data-expr="hasab(AB_GLASS)">
					<button><img src="https://i.imgur.com/VY93npj.png" width="40" height="40">一次攻擊</button>
				</li>
				<li style="text-align: center;">效果</li>
				<li data-expr="hasab(AB_WEAK)">
					<button><img src="https://i.imgur.com/yRkhAHL.png" width="40" height="40">攻擊力下降</button>
				</li>
				<li data-expr="hasab(AB_STOP)">
					<button><img src="https://i.imgur.com/i1pP3Mi.png" width="40" height="40">使動作停止</button>
				</li>
				<li data-expr="hasab(AB_SLOW)">
					<button><img src="https://i.imgur.com/MyoCUMu.png" width="40" height="40">使動作變慢</button>
				</li>
				<li data-expr="hasab(AB_CURSE)">
					<button><img src="https://i.imgur.com/0Rraywl.png" width="40" height="40">詛咒</button>
				</li>
				<li data-expr="hasab(AB_POIATK)">
					<button><img src="https://i.imgur.com/0yOBnDL.png" width="40" height="40">毒擊</button>
				</li>
				<li data-expr="hasab(AB_WARP)">
					<button><img src="https://i.imgur.com/KkYm2Og.png" width="40" height="40">傳送</button>
				</li>
				<li data-expr="hasab(AB_KB)">
					<button><img src="https://i.imgur.com/cLZsanQ.png" width="40" height="40">打飛敵人</button>
				</li>
				<li data-expr="hasab(AB_IMUATK)">
					<button><img src="https://i.imgur.com/8Eq6vPV.png" width="40" height="40">攻擊無效</button>
				</li>
				<li style="text-align: center;">抗性</li>
				<li data-expr="imu&IMU_WEAK">
					<button><img src="https://i.imgur.com/aN6I67V.png" width="40" height="40">攻擊力下降無效</button>
				</li>
				<li data-expr="imu&IMU_STOP">
					<button><img src="https://i.imgur.com/OSjMN62.png" width="40" height="40">動作停止無效</button>
				</li>
				<li data-expr="imu&IMU_SLOW">
					<button><img src="https://i.imgur.com/rPx4aA2.png" width="40" height="40">動作變慢無效</button>
				</li>
				<li data-expr="imu&IMU_KB">
					<button><img src="https://i.imgur.com/5CYatS4.png" width="40" height="40">打飛敵人無效</button>
				</li>
				<li data-expr="imu&IMU_WAVE">
					<button><img src="https://i.imgur.com/MacWKW6.png" width="40" height="40">波動傷害無效</button>
				</li>
				<li data-expr="imu&IMU_VOLC">
					<button><img src="https://i.imgur.com/Uadt9Fa.png" width="40" height="40">烈波傷害無效</button>
				</li>
				<li data-expr="imu&IMU_WARP">
					<button><img src="https://i.imgur.com/T7BXYAw.png" width="40" height="40">傳送無效</button>
				</li>
				<li data-expr="imu&IMU_CURSE">
					<button><img src="https://i.imgur.com/27mAxhl.png" width="40" height="40">詛咒無效</button>
				</li>
				<li data-expr="imu&IMU_POIATK">
					<button><img src="https://i.imgur.com/5zleNqO.png" width="40" height="40">毒擊傷害無效</button>
				</li>
			</ul>
			<ul style="position: absolute;top: 605px;height: 395px;overflow: auto;width: 190px;left: 180px;font-size: 18px;" class="w3-ul may-hide" id="kind-s">
				{{#each (loadTSV "enemy_species.tsv") as |sp|}}
				<li data-expr="(
					{{~#each (split sp.id_list ",") as |id|~}}
					id=={{id}}
					{{~#unless @last}}||{{/unless~}}
					{{~/each~}}
				)">
					<button>{{sp.name}}</button>
				</li>
				{{/each}}
			</ul>
			<div id="tables" style="margin: 20px 0px;position: absolute;top: 0px;left: 390px;vertical-align: middle;min-width: 800px;width: calc(100% - 400px);">
				<div class="may-hide">
					<input type="search" placeholder="搜尋名稱或敵人id" id="name-search">
				</div>
				<p>
					<span id="search-result"></span><a href="#" id="toggle-s" style="padding-left: 1em;">隱藏搜尋器</a>
					<span style="float: right;">
						每頁顯示
						<select oninput="setRange(event)">
							<option value="10">10個</option>
							<option value="25">25個</option>
							<option value="50">50個</option>
							<option value="100">100個</option>
							<option value="9999">全部</option>
						</select>
					</span>
				</p>
				<table class="w3-table w3-centered" style="width: 100%;margin-bottom: 0px;">
					<thead>
						<tr id="th" style="cursor: pointer;">
							<td title="id">ID</td>
							<td style="width: 110px;">圖示</td>
							<td>名稱</td>
							<td title="hp">HP</td>
							<td title="atk">攻擊力</td>
							<td title="dps">DPS</td>
							<td title="kb">KB</td>
							<td title="range">射程</td>
							<td title="attackf">攻擊頻率</td>
							<td title="speed">跑速</td>
							<td title="cost">獎金</td>
							<td>排序值</td>
						</tr>
					</thead>
					<tbody id="tbody"></tbody>
				</table>
				<table style="margin: 1em auto;">
					<tbody>
						<tr id="pages-a"></tr>
					</tbody>
				</table>
			</div>
		</div>
		<script src="parser.js"></script>
		<script src="esearch.js"></script>
	</div>
{{/inline}}

{{/common.html}}
