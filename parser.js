const pegjs=function(){"use strict";function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function ctor(){this.constructor=child}var child,parent;return child=peg$SyntaxError,parent=Error,ctor.prototype=parent.prototype,child.prototype=new ctor,peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function(expectation){return'"'+literalEscape(expectation.text)+'"'},class:function(expectation){for(var escapedParts="",i=0;i<expectation.parts.length;i++)escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i]);return"["+(expectation.inverted?"^":"")+escapedParts+"]"},any:function(expectation){return"any character"},end:function(expectation){return"end of input"},other:function(expectation){return expectation.description}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return"\\x"+hex(ch)})}function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return"\\x"+hex(ch)})}return"Expected "+function(expected){for(var j,expectation,descriptions=new Array(expected.length),i=0;i<expected.length;i++)descriptions[i]=(expectation=expected[i],DESCRIBE_EXPECTATION_FNS[expectation.type](expectation));if(descriptions.sort(),0<descriptions.length){for(j=i=1;i<descriptions.length;i++)descriptions[i-1]!==descriptions[i]&&(descriptions[j]=descriptions[i],j++);descriptions.length=j}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1]}}(expected)+" but "+function(found){return found?'"'+literalEscape(found)+'"':"end of input"}(found)+" found."},{SyntaxError:peg$SyntaxError,parse:function(input,options){function peg$c46(head,tail){return head?tail.reduce(function(result,element){return result+","+element[1]},head):""}function peg$c62(){return text().toLowerCase()}var peg$FAILED={},peg$startRuleFunctions={Expression:peg$parseExpression},peg$startRuleFunction=peg$parseExpression,peg$c0="&&",peg$c1=peg$literalExpectation("&&",!1),peg$c2="||",peg$c3=peg$literalExpectation("||",!1),peg$c4=function(head,tail){return tail.reduce(function(result,element){return result+element[0]+element[1]},head)},peg$c5="&",peg$c6=peg$literalExpectation("&",!1),peg$c7="|",peg$c8=peg$literalExpectation("|",!1),peg$c9="^",peg$c10=peg$literalExpectation("^",!1),peg$c11="==",peg$c12=peg$literalExpectation("==",!1),peg$c13="!=",peg$c14=peg$literalExpectation("!=",!1),peg$c15="<=",peg$c16=peg$literalExpectation("<=",!1),peg$c17="<",peg$c18=peg$literalExpectation("<",!1),peg$c19=">=",peg$c20=peg$literalExpectation(">=",!1),peg$c21=">",peg$c22=peg$literalExpectation(">",!1),peg$c23="+",peg$c24=peg$literalExpectation("+",!1),peg$c25="-",peg$c26=peg$literalExpectation("-",!1),peg$c27="*",peg$c28=peg$literalExpectation("*",!1),peg$c29="/",peg$c30=peg$literalExpectation("/",!1),peg$c31="%",peg$c32=peg$literalExpectation("%",!1),peg$c33="(",peg$c34=peg$literalExpectation("(",!1),peg$c35=")",peg$c36=peg$literalExpectation(")",!1),peg$c39="!",peg$c40=peg$literalExpectation("!",!1),peg$c41=function(prim){return"(!"+prim+")"},peg$c42=function(prim){return"(-"+prim+")"},peg$c43=function(id,args){var s=id;if(args){switch(s){case"hasab":case"hasres":case"dpsagainst":case"hpagainst":return`form.${s}(${args[1]})`}if(Math[s])return`Math.${s}(${args[1]})`;throw Error("未知的函數: "+s)}id=constants[s];if(null!=id)return id.toString();if("maxformc"==(s=s.toLowerCase()))return"(window.cats_old[form.id].forms.length)";if(known_identifiers.has(s))return"form.get"+s+"()";throw new Error("未知的變數: "+s)},peg$c44=",",peg$c45=peg$literalExpectation(",",!1),peg$c47=peg$otherExpectation("integer"),peg$c48=/^[0-9]/,peg$c49=peg$classExpectation([["0","9"]],!1,!1),peg$c50=".",peg$c51=peg$literalExpectation(".",!1),peg$c52=text,peg$c53=peg$otherExpectation("whitespace"),peg$c54=/^[ \t\n\r]/,peg$c55=peg$classExpectation([" ","\t","\n","\r"],!1,!1),peg$c56=/^[a-z]/,peg$c57=peg$classExpectation([["a","z"]],!1,!1),peg$c58=/^[A-Z]/,peg$c59=peg$classExpectation([["A","Z"]],!1,!1),peg$c60=/^[_]/,peg$c61=peg$classExpectation(["_"],!1,!1),peg$currPos=0,peg$savedPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0;if("startRule"in(options=void 0!==options?options:{})){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function text(){return input.substring(peg$savedPos,peg$currPos)}function peg$literalExpectation(text,ignoreCase){return{type:"literal",text:text,ignoreCase:ignoreCase}}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase}}function peg$otherExpectation(description){return{type:"other",description:description}}function peg$computePosDetails(pos){var p,details=peg$posDetailsCache[pos];if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details={line:(details=peg$posDetailsCache[p]).line,column:details.column};p<pos;)10===input.charCodeAt(p)?(details.line++,details.column=1):details.column++,p++;return peg$posDetailsCache[pos]=details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$maxFailPos<peg$currPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildStructuredError(expected,found,location){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected,found),expected,found,location)}function peg$parseExpression(){var s2,s3,s4,s5,s0=peg$currPos,s1=peg$parseTerm1();if(s1!==peg$FAILED){for(s2=[],s3=peg$currPos,input.substr(peg$currPos,2)===peg$c0?(s4=peg$c0,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c1)),s4===peg$FAILED&&(input.substr(peg$currPos,2)===peg$c2?(s4=peg$c2,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c3))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm1())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,input.substr(peg$currPos,2)===peg$c0?(s4=peg$c0,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c1)),s4===peg$FAILED&&(input.substr(peg$currPos,2)===peg$c2?(s4=peg$c2,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c3))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm1())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s0=s2!==peg$FAILED?(peg$savedPos=s0,peg$c4(s1,s2)):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseTerm1(){var s2,s3,s4,s5,s0=peg$currPos,s1=peg$parseTerm2();if(s1!==peg$FAILED){for(s2=[],s3=peg$currPos,38===input.charCodeAt(peg$currPos)?(s4=peg$c5,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s4===peg$FAILED&&(124===input.charCodeAt(peg$currPos)?(s4=peg$c7,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s4===peg$FAILED)&&(94===input.charCodeAt(peg$currPos)?(s4=peg$c9,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm2())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,38===input.charCodeAt(peg$currPos)?(s4=peg$c5,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s4===peg$FAILED&&(124===input.charCodeAt(peg$currPos)?(s4=peg$c7,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s4===peg$FAILED)&&(94===input.charCodeAt(peg$currPos)?(s4=peg$c9,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm2())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s0=s2!==peg$FAILED?(peg$savedPos=s0,peg$c4(s1,s2)):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseTerm2(){var s2,s3,s4,s5,s0=peg$currPos,s1=peg$parseTerm3();if(s1!==peg$FAILED){for(s2=[],s3=peg$currPos,input.substr(peg$currPos,2)===peg$c11?(s4=peg$c11,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c12)),s4===peg$FAILED&&(input.substr(peg$currPos,2)===peg$c13?(s4=peg$c13,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c14))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm3())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,input.substr(peg$currPos,2)===peg$c11?(s4=peg$c11,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c12)),s4===peg$FAILED&&(input.substr(peg$currPos,2)===peg$c13?(s4=peg$c13,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c14))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm3())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s0=s2!==peg$FAILED?(peg$savedPos=s0,peg$c4(s1,s2)):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseTerm3(){var s2,s3,s4,s5,s0=peg$currPos,s1=peg$parseTerm4();if(s1!==peg$FAILED){for(s2=[],s3=peg$currPos,input.substr(peg$currPos,2)===peg$c15?(s4=peg$c15,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c16)),s4===peg$FAILED&&(60===input.charCodeAt(peg$currPos)?(s4=peg$c17,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c18)),s4===peg$FAILED)&&(input.substr(peg$currPos,2)===peg$c11?(s4=peg$c11,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c12)),s4===peg$FAILED)&&(input.substr(peg$currPos,2)===peg$c19?(s4=peg$c19,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c20)),s4===peg$FAILED)&&(62===input.charCodeAt(peg$currPos)?(s4=peg$c21,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c22))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm4())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,input.substr(peg$currPos,2)===peg$c15?(s4=peg$c15,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c16)),s4===peg$FAILED&&(60===input.charCodeAt(peg$currPos)?(s4=peg$c17,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c18)),s4===peg$FAILED)&&(input.substr(peg$currPos,2)===peg$c11?(s4=peg$c11,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c12)),s4===peg$FAILED)&&(input.substr(peg$currPos,2)===peg$c19?(s4=peg$c19,peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c20)),s4===peg$FAILED)&&(62===input.charCodeAt(peg$currPos)?(s4=peg$c21,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c22))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm4())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s0=s2!==peg$FAILED?(peg$savedPos=s0,peg$c4(s1,s2)):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseTerm4(){var s2,s3,s4,s5,s0=peg$currPos,s1=peg$parseTerm5();if(s1!==peg$FAILED){for(s2=[],s3=peg$currPos,43===input.charCodeAt(peg$currPos)?(s4=peg$c23,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c24)),s4===peg$FAILED&&(45===input.charCodeAt(peg$currPos)?(s4=peg$c25,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c26))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm5())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,43===input.charCodeAt(peg$currPos)?(s4=peg$c23,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c24)),s4===peg$FAILED&&(45===input.charCodeAt(peg$currPos)?(s4=peg$c25,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c26))),s3=s4!==peg$FAILED&&(s5=peg$parseTerm5())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s0=s2!==peg$FAILED?(peg$savedPos=s0,peg$c4(s1,s2)):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseTerm5(){var s2,s3,s4,s5,s0=peg$currPos,s1=peg$parseFactor();if(s1!==peg$FAILED){for(s2=[],s3=peg$currPos,42===input.charCodeAt(peg$currPos)?(s4=peg$c27,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c28)),s4===peg$FAILED&&(47===input.charCodeAt(peg$currPos)?(s4=peg$c29,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s4===peg$FAILED)&&(37===input.charCodeAt(peg$currPos)?(s4=peg$c31,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32))),s3=s4!==peg$FAILED&&(s5=peg$parseFactor())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,42===input.charCodeAt(peg$currPos)?(s4=peg$c27,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c28)),s4===peg$FAILED&&(47===input.charCodeAt(peg$currPos)?(s4=peg$c29,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s4===peg$FAILED)&&(37===input.charCodeAt(peg$currPos)?(s4=peg$c31,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32))),s3=s4!==peg$FAILED&&(s5=peg$parseFactor())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s0=s2!==peg$FAILED?(peg$savedPos=s0,peg$c4(s1,s2)):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseFactor(){var s2,s3,s5,s0=peg$currPos,s1=peg$parse_();return(s0=s1!==peg$FAILED&&(40===input.charCodeAt(peg$currPos)?(s2=peg$c33,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)),s2!==peg$FAILED)&&(s3=peg$parseExpression())!==peg$FAILED&&peg$parse_()!==peg$FAILED&&(41===input.charCodeAt(peg$currPos)?(s5=peg$c35,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c36)),s5!==peg$FAILED)?(peg$savedPos=s0,s1="("+s3+")"):(peg$currPos=s0,peg$FAILED))===peg$FAILED&&(s0=peg$currPos,s0=(s1=peg$parse_())!==peg$FAILED&&(s2=function peg$parsePrim(){var s0,s1,s3,s4,s2,s6;s0=peg$currPos;33===input.charCodeAt(peg$currPos)?(s1=peg$c39,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c40));s0=s1!==peg$FAILED&&(s2=peg$parse_(),s2!==peg$FAILED)&&(s3=peg$parsePrim())!==peg$FAILED?(peg$savedPos=s0,s1=peg$c41(s3)):(peg$currPos=s0,peg$FAILED);s0===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1=peg$c25,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c26)),(s0=s1!==peg$FAILED&&(s2=peg$parse_())!==peg$FAILED&&(s3=peg$parsePrim())!==peg$FAILED?(peg$savedPos=s0,s1=peg$c42(s3)):(peg$currPos=s0,peg$FAILED))===peg$FAILED)&&(s0=peg$parseInteger())===peg$FAILED&&(s0=peg$currPos,s1=peg$parseIdentifier(),s0=s1!==peg$FAILED&&(s2=peg$parse_())!==peg$FAILED&&(s3=peg$currPos,40===input.charCodeAt(peg$currPos)?(s4=peg$c33,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)),(s3=(s3=s4!==peg$FAILED&&(s2=peg$parseArgList())!==peg$FAILED&&(41===input.charCodeAt(peg$currPos)?(s6=peg$c35,peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c36)),s6!==peg$FAILED)?s4=[s4,s2,s6]:(peg$currPos=s3,peg$FAILED))===peg$FAILED?null:s3)!==peg$FAILED)?(peg$savedPos=s0,s1=peg$c43(s1,s3)):(peg$currPos=s0,peg$FAILED));return s0}())!==peg$FAILED&&(s3=peg$parse_())!==peg$FAILED?(peg$savedPos=s0,s1=s2):(peg$currPos=s0,peg$FAILED)),s0}function peg$parseArgList(){var s2,s3,s4,s5,s0=peg$currPos,s1=peg$parseExpression();if((s1=s1===peg$FAILED?null:s1)!==peg$FAILED){for(s2=[],s3=peg$currPos,44===input.charCodeAt(peg$currPos)?(s4=peg$c44,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c45)),s3=s4!==peg$FAILED&&(s5=peg$parseExpression())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,44===input.charCodeAt(peg$currPos)?(s4=peg$c44,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c45)),s3=s4!==peg$FAILED&&(s5=peg$parseExpression())!==peg$FAILED?s4=[s4,s5]:(peg$currPos=s3,peg$FAILED);s0=s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c46(s1,s2)):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseInteger(){var s0,s1,s2,s3,s4,s5;if(peg$silentFails++,s0=peg$currPos,s1=[],peg$c48.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c49)),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),peg$c48.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c49));else s1=peg$FAILED;if(s1!==peg$FAILED){if(s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=peg$c50,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c51)),s3!==peg$FAILED){if(s4=[],peg$c48.test(input.charAt(peg$currPos))?(s5=input.charAt(peg$currPos),peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c49)),s5!==peg$FAILED)for(;s5!==peg$FAILED;)s4.push(s5),peg$c48.test(input.charAt(peg$currPos))?(s5=input.charAt(peg$currPos),peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c49));else s4=peg$FAILED;s2=s4!==peg$FAILED?s3=[s3,s4]:(peg$currPos=s2,peg$FAILED)}else peg$currPos=s2,s2=peg$FAILED;s0=(s2=s2===peg$FAILED?null:s2)!==peg$FAILED?(peg$savedPos=s0,s1=peg$c52()):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return peg$silentFails--,s0===peg$FAILED&&(s1=peg$FAILED,0===peg$silentFails)&&peg$fail(peg$c47),s0}function peg$parse_(){var s0,s1;for(peg$silentFails++,s0=[],peg$c54.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55));s1!==peg$FAILED;)s0.push(s1),peg$c54.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55));return peg$silentFails--,s0===peg$FAILED&&(s1=peg$FAILED,0===peg$silentFails)&&peg$fail(peg$c53),s0}function peg$parseIdentifier(){var s1,s2,s3,s0=peg$currPos;if(peg$c56.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)),s1===peg$FAILED&&(peg$c58.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c59)),s1===peg$FAILED)&&(peg$c60.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c61))),s1!==peg$FAILED){for(s2=[],peg$c56.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)),s3===peg$FAILED&&(peg$c58.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c59)),s3===peg$FAILED)&&(peg$c60.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c61)),s3===peg$FAILED)&&(peg$c48.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c49)));s3!==peg$FAILED;)s2.push(s3),peg$c56.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)),s3===peg$FAILED&&(peg$c58.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c59)),s3===peg$FAILED)&&(peg$c60.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c61)),s3===peg$FAILED)&&(peg$c48.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c49)));s0=s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c62()):(peg$currPos=s0,peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}const known_identifiers=new Set(["id","trait","imu","hp","atk","attack","range","dps","kb","attackf","attacks","cd","cdf","atktype","rarity","tdps","thp","tatk","speed","price","cost","revenge","tba","backswing","pre","pre1","pre2","formc","maxformc","crit","wavelv","volclv","slow_time","slow_prob","stop_time","stop_prob","curse_time","curse_time","curse_prob","curse_prob","weak_time","weak_prob","weak_extent","strong_extent","lethal_prob","savage_extent","savage_prob","break_prob","shield_break_prob","mini_wave_prob","wave_prob","mini_surge_prob","surge_prob","dodge_time","dodge_prob"]);if((peg$startRuleFunctions=peg$startRuleFunction())!==peg$FAILED&&peg$currPos===input.length)return peg$startRuleFunctions;throw peg$startRuleFunctions!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end"}),peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}}();